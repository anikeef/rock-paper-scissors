<!DOCTYPE html>
<html>
<head>
	<title>Rock, paper, scissors</title>
</head>
<body>

<script type="text/javascript">
	let playerScore = 0;
	let computerScore = 0;

	function computerPlay() {
		let randomNumber = Math.random();
		return (randomNumber < 1/3) ? 'rock' :
			   (randomNumber < 2/3) ? 'paper' :
					 				  'scissors';
	}

	function askPlayer() {
		return prompt('Rock, paper or scissors?');
	}

	function playRound(playerSelection = askPlayer(), computerSelection = computerPlay()) {
		playerSelection = playerSelection.toLowerCase();
		let loss = (playerSelection === 'rock') && (computerSelection === 'paper') ||
		   		   (playerSelection === 'paper') && (computerSelection === 'scissors') ||
		   		   (playerSelection === 'scissors') && (computerSelection === 'rock');
		let win = (playerSelection === 'rock') && (computerSelection === 'scissors') ||
				  (playerSelection === 'paper') && (computerSelection === 'rock') ||
				  (playerSelection === 'scissors') && (computerSelection === 'paper'); 
		if (win) {
				playerScore += 1;
				return ('You win! ' + playerSelection + ' beats ' + computerSelection);
			} else if (loss) {
				computerScore += 1;
				return ('You lose! ' + computerSelection + ' beats ' + playerSelection);
			} else {
				return ('Try again, computer has ' + computerSelection + ' too');
			}
	}

	function game() {
		for (var i = 0; i < 5; i++) {
			console.log(playRound());
		}
		console.log(computerScore + ':' + playerScore);
	}

	game();
</script>

</body>
</html>
